<!DOCTYPE html><html lang="en"><head><title>My notes</title><!-- vis.js--><script src="modules/external/vis-js.min.js" rel="script"></script><link href="modules/external/vis-js-timeline-graph2d.css" rel="stylesheet" type="text/css"><!-- tagify --><script src="modules/external/tagify.min.js"></script><script src="modules/external/tagify-polyfills.js"></script><link href="modules/external/tagify.min.css" rel="stylesheet" type="text/css"><!-- custom scripts--><script src="modules/internal/filterNotes.js"></script><!-- timeline styles--><link rel="stylesheet" href="styles/style.css"><link rel="stylesheet" href="styles/timeline.css"><!-- Elements shared by all pages --><meta name="viewport" content="width=device-width, initial-scale=1.0"></head><body><h1>My notes </h1><div class="section"> <h2>Most recent </h2><li> <a href="notes/parmenides-on-nature.html" target="_blank" rel="noreferrer nofollow noopener"> Parmenides - "On Nature" (480 BC)</a></li><li> <a href="notes/endo-shusaku-silence.html" target="_blank" rel="noreferrer nofollow noopener"> Endo, Shusaku - "Silence" (1966)</a></li><li> <a href="notes/watts-alan-myth-and-religion.html" target="_blank" rel="noreferrer nofollow noopener"> Watts, Alan - "Myth and Religion" (1996)</a></li><li> <a href="notes/arendt-hannah-origins-of-totalitarianism.html" target="_blank" rel="noreferrer nofollow noopener"> Arendt, Hannah - "Origins of Totalitarianism" (1951)</a></li><li> <a href="notes/zhuangzi-zhuangzi.html" target="_blank" rel="noreferrer nofollow noopener"> Zhuangzi - "Zhuangzi" (300 BC)</a></li></div><h2>Explore</h2><details> <summary>Filters </summary><div> <div class="section"><div class="flex"><label class="inline-item" for="types-input">Type</label><div class="filter-controls inline-item"><button id="reset-types-button">(show all)</button><button id="clear-types-button">(clear all)</button></div></div><input name="types-input" id="types-input"></div><div class="section"><div class="flex"><label class="inline-item" for="tags-input">Tags</label><div class="filter-controls inline-item"><button id="reset-tags-button">(Apply all tags)</button><button id="clear-tags-button">(clear all)</button></div></div><input name="tags-input" id="tags-input"></div></div></details><div id="timelines-container"></div><div><div class="flex"><p class="inline-item">Toggle View</p><button class="inline-item toggle" id="timeline-toggle"><div class="toggle-switch"></div></button></div><div id="timeline-yp-container"><h3>By year published</h3><p> <em>Scroll to zoom, drag to pan</em></p><div id="timeline-yp"></div></div><div class="hide-by-offset" id="timeline-ln-container"> <h3>By last noted</h3><p> <em>Scroll to zoom, drag to pan</em></p><div id="timeline-ln"></div></div></div><div><h3>List view by author</h3><li> <a href="notes/parmenides-on-nature.html" target="_blank" rel="noreferrer nofollow noopener"> Parmenides - "On Nature" (480 BC)</a></li><li> <a href="notes/endo-shusaku-silence.html" target="_blank" rel="noreferrer nofollow noopener"> Endo, Shusaku - "Silence" (1966)</a></li><li> <a href="notes/watts-alan-myth-and-religion.html" target="_blank" rel="noreferrer nofollow noopener"> Watts, Alan - "Myth and Religion" (1996)</a></li><li> <a href="notes/arendt-hannah-origins-of-totalitarianism.html" target="_blank" rel="noreferrer nofollow noopener"> Arendt, Hannah - "Origins of Totalitarianism" (1951)</a></li><li> <a href="notes/zhuangzi-zhuangzi.html" target="_blank" rel="noreferrer nofollow noopener"> Zhuangzi - "Zhuangzi" (300 BC)</a></li><li> <a href="notes/borges-jorge-luis-ficciones.html" target="_blank" rel="noreferrer nofollow noopener"> Borges, Jorge Luis - "Ficciones" (1944)</a></li><li> <a href="notes/boethius-the-consolation-of-philosophy.html" target="_blank" rel="noreferrer nofollow noopener"> Boethius - "The Consolation of Philosophy" (523)</a></li></div><script type="text/javascript">//////////////////////////
// GLOBAL STATE 
const globalFilters = {
  types: 'all',
  tags: 'all',
  authors: 'all'
}

let timelineViewIsLp = true

// get notes and info from variable passed into template
const nts = [{"id":"clairefro/gnotes/notes/parmenides-on-nature.md","fm":{"title":"On Nature","author":"Parmenides","yearPublished":-480,"type":"ðŸ“œ poem","link":"http://philoctetes.free.fr/parmenidesunicode.htm","tags":["philosophy","presocratic"],"lastNoted":"2021-12-28"},"content":"\n## An h2 header\n\nHere's a numbered list:\n\n1.  first item\n2.  second item\n3.  third item\n\nNote again how the actual text starts at 4 columns in (4 characters\nfrom the left side). Here's a code sample:\n\n    # Let me re-iterate ...\n    for i in 1 .. 10 { do-something(i) }\n\nAs you probably guessed, indented 4 spaces. By the way, instead of\nindenting the block, you can use delimited blocks, if you like:\n\n```\ndefine foobar() {\n    print \"Welcome to flavor country!\";\n}\n```\n\n(which makes copying & pasting easier). You can optionally mark the\ndelimited block for Pandoc to syntax highlight it:\n\n```python\nimport time\n# Quick, count to ten!\nfor i in range(10):\n    # (but not *too* quick)\n    time.sleep(0.5)\n    print(i)\n```\n","slug":"parmenides-on-nature","prettyUrl":"https://github.com/clairefro/gnotes/blob/main/notes/parmenides-on-nature.md","rawUrl":"https://raw.githubusercontent.com/clairefro/gnotes/main/notes/parmenides-on-nature.md","relPath":"notes/parmenides-on-nature.md"},{"id":"clairefro/gnotes/notes/endo-shusaku-silence.md","fm":{"title":"Silence","author":"Endo, Shusaku","yearPublished":1966,"type":"ðŸ“• book","link":"https://celmoreblog.files.wordpress.com/2016/05/235449575-silence-shusaku-endo-william-johnston.pdf","tags":["fiction","philosophy","religion","martyrdom","christianity","japan","missionary"],"lastNoted":"2021-12-16"},"content":"\n# On the second day\n\nGod created another markdown file\n\nFoooooo\n","slug":"endo-shusaku-silence","prettyUrl":"https://github.com/clairefro/gnotes/blob/main/notes/endo-shusaku-silence.md","rawUrl":"https://raw.githubusercontent.com/clairefro/gnotes/main/notes/endo-shusaku-silence.md","relPath":"notes/endo-shusaku-silence.md"},{"id":"clairefro/gnotes/notes/foo/watts-alan-myth-and-religion.md","fm":{"title":"Myth and Religion","author":"Watts, Alan","yearPublished":1996,"type":"ðŸ“• book","link":"https://www.amazon.com/Myth-Religion-Transcripts-Alan-Watts/dp/080483055X","tags":["philosophy","religion"],"lastNoted":"2021-11-31"},"content":"\n# On the fourth day\n\nGod created nested markdown\n","slug":"watts-alan-myth-and-religion","prettyUrl":"https://github.com/clairefro/gnotes/blob/main/notes/foo/watts-alan-myth-and-religion.md","rawUrl":"https://raw.githubusercontent.com/clairefro/gnotes/main/notes/foo/watts-alan-myth-and-religion.md","relPath":"notes/foo/watts-alan-myth-and-religion.md"},{"id":"clairefro/gnotes/notes/arendt-hannah-origins-totalitarianism.md","fm":{"title":"Origins of Totalitarianism","author":"Arendt, Hannah","yearPublished":1951,"type":"ðŸ“• book","link":"https://cheirif.files.wordpress.com/2014/08/hannah-arendt-the-origins-of-totalitarianism-meridian-1962.pdf","tags":["totalitarianism","politics","philosophy"],"lastNoted":"2021-09-20"},"content":"\nthoughts thoughts thoughts here\n","slug":"arendt-hannah-origins-of-totalitarianism","prettyUrl":"https://github.com/clairefro/gnotes/blob/main/notes/arendt-hannah-origins-totalitarianism.md","rawUrl":"https://raw.githubusercontent.com/clairefro/gnotes/main/notes/arendt-hannah-origins-totalitarianism.md","relPath":"notes/arendt-hannah-origins-totalitarianism.md"},{"id":"clairefro/gnotes/notes/zhuangzi.md","fm":{"title":"Zhuangzi","author":"Zhuangzi","yearPublished":-300,"type":"ðŸ“• book","link":"https://archive.org/details/thecompleteworksofzhuangzi/page/n443/mode/2up","tags":["philosophy","taoism"],"lastNoted":"2021-09-15"},"content":"\nTo be truly ignorant, be content with your own knowledge\n","slug":"zhuangzi-zhuangzi","prettyUrl":"https://github.com/clairefro/gnotes/blob/main/notes/zhuangzi.md","rawUrl":"https://raw.githubusercontent.com/clairefro/gnotes/main/notes/zhuangzi.md","relPath":"notes/zhuangzi.md"},{"id":"clairefro/gnotes/notes/borges-ficciones.md","fm":{"title":"Ficciones","author":"Borges, Jorge Luis","yearPublished":1944,"type":"ðŸ“• book","link":"https://ddooss.org/libros/Jorge_Luis_Borges_ficciones.pdf","tags":["fiction","infinity"],"lastNoted":"2021-08-16"},"content":"\n# In the beginning\n\nGod created markdown\n","slug":"borges-jorge-luis-ficciones","prettyUrl":"https://github.com/clairefro/gnotes/blob/main/notes/borges-ficciones.md","rawUrl":"https://raw.githubusercontent.com/clairefro/gnotes/main/notes/borges-ficciones.md","relPath":"notes/borges-ficciones.md"},{"id":"clairefro/gnotes/notes/boethius-consolation-of-philosophy.md","fm":{"title":"The Consolation of Philosophy","author":"Boethius","yearPublished":523,"type":"ðŸ“• book","link":"https://www.gutenberg.org/files/14328/14328-h/14328-h.htm","tags":["philosophy","fiction"],"lastNoted":"2021-05-15"},"content":"\nTo be truly ignorant, be content with your own knowledge\n","slug":"boethius-the-consolation-of-philosophy","prettyUrl":"https://github.com/clairefro/gnotes/blob/main/notes/boethius-consolation-of-philosophy.md","rawUrl":"https://raw.githubusercontent.com/clairefro/gnotes/main/notes/boethius-consolation-of-philosophy.md","relPath":"notes/boethius-consolation-of-philosophy.md"}]
const inf = {"repoUrl":"https://github.com/clairefro/gnotes","summary":{"notes":{"count":7},"authors":{"count":7,"map":{"Arendt, Hannah":1,"Boethius":1,"Borges, Jorge Luis":1,"Endo, Shusaku":1,"Watts, Alan":1,"Parmenides":1,"Zhuangzi":1}},"types":{"count":2,"map":{"ðŸ“• book":6,"ðŸ“œ poem":1}},"tags":{"count":12,"map":{"philosophy":6,"fiction":3,"religion":2,"totalitarianism":1,"politics":1,"infinity":1,"martyrdom":1,"christianity":1,"japan":1,"missionary":1,"presocratic":1,"taoism":1}},"yearPublished":{"min":-480,"max":1996,"diff":2476}}}

let globalFilteredNotes = [...nts]


//////////////////////////
// TIMELINE (vis.js)

// Set up timelines
const timelineYpEl = document.getElementById('timeline-yp')
const timelineLnEl = document.getElementById('timeline-ln')

const ypDatasetInit = toTimeLineDataset(notesToYpItems(globalFilteredNotes))
const lnDatasetInit = toTimeLineDataset(notesToLnItems(globalFilteredNotes))

const options = {
  orientation: {axis: 'both', item: 'top'}
}
const timelineYp = new vis.Timeline(timelineYpEl, ypDatasetInit, {...options,
  showCurrentTime: false,
});
const timelineLn = new vis.Timeline(timelineLnEl, lnDatasetInit, options);

function updateTimelines() {
  const ypDataset = toTimeLineDataset(notesToYpItems(globalFilteredNotes))
  const lnDataset = toTimeLineDataset(notesToLnItems(globalFilteredNotes))

  timelineYp.setItems(ypDataset)
  timelineYp.redraw()

  timelineLn.setItems(lnDataset)
  timelineLn.redraw()
}

function notesToYpItems(_notes) {
  return _notes.map(n => ({ 
    id: n.id, 
    content: buildTimelineContent(n), 
    start: new Date(n.fm.yearPublished, 0, 1)
  }))
}

function notesToLnItems(_notes) {
  return _notes.map(n => ({ 
    id: n.id, 
    content: buildTimelineContent(n), 
    start: new Date(n.fm.lastNoted)
  }))
}

function toTimeLineDataset (_items) {
  return new vis.DataSet(_items)
}

// TODO: Link to templated notes page in static website. Currently links to github
function buildTimelineContent(_note) {
  return `
    <div className="tl-content">
      <a href="notes/${_note.slug}.html" target="_blank" rel="noopener noreferrer nofollow">
      <span>${_note.fm.title}</span>
      </a>
    </div>
  `
}

// Toggle timeline views
const timelineToggle = document.getElementById("timeline-toggle")
timelineToggle.addEventListener('click', (e) => {
  e.preventDefault();
  timelineToggle.classList.toggle('active')
  toggleTimelineView()
})

const timelineYpContainer = document.getElementById("timeline-yp-container")
const timelineLnContainer = document.getElementById("timeline-ln-container")

function toggleTimelineView() {
  // in case needed for something else...
  timelineViewIsLp = !timelineViewIsLp
  timelineYpContainer.classList.toggle("hide-by-offset")
  timelineLnContainer.classList.toggle("hide-by-offset")
}

///////////////////////
// TAGIFY 
const sharedTagifyOpts = {
  duplicates: false,
  enforceWhitelist: true,
  skipInvalid: true,
  editTags: false,
  dropdown: { 
    enabled: 1,
    highlightFirst: true 
  },
}
const allTags = Object.keys(inf.summary.tags.map)
const allTypes = Object.keys(inf.summary.types.map)

const tagsInput = document.getElementById("tags-input"),
tagsTagifyInput = new Tagify(tagsInput, {
  id: 'tags',  // must be unique (per-tagify instance)
  whitelist: allTags,
  ...sharedTagifyOpts
});

const typeInput = document.getElementById("types-input"),
typeTagifyInput = new Tagify(typeInput, {
  id: 'types',  // must be unique (per-tagify instance)
  whitelist: allTypes,
  ...sharedTagifyOpts
});

// Tagify helpers
function resetTagifyInput(tagifyInput, initialTags) {
  tagifyInput.removeAllTags()
  tagifyInput.addTags(initialTags)
}

function clearTagifyInput(tagifyInput) {
  tagifyInput.removeAllTags()
}

// Tagify: tags input
const resetTagsButton = document.getElementById("reset-tags-button")
resetTagsButton.addEventListener('click', onClickResetTags)

const clearTagsButton = document.getElementById("clear-tags-button")
clearTagsButton.addEventListener('click', onClickClearTags)

function onClickResetTags() {
  resetTagifyInput(tagsTagifyInput, allTags)
}

function onClickClearTags() {
  clearTagifyInput(tagsTagifyInput)
}

// init tags
resetTagifyInput(tagsTagifyInput, [])

tagsTagifyInput.on('change', (e) => {
  const filteredTags = getTagifyInputValues(tagsTagifyInput)
  updateGlobalFilter({ tags: filteredTags })
})

// Tagify: type input
const resetTypesButton = document.getElementById("reset-types-button")
resetTypesButton.addEventListener('click', onClickResetTypes)

const clearTypesButton = document.getElementById("clear-types-button")
clearTypesButton.addEventListener('click', onClickClearTypes)

function onClickResetTypes() {
  resetTagifyInput(typeTagifyInput, allTypes)
}

function onClickClearTypes() {
  clearTagifyInput(typeTagifyInput)
}

// init types
resetTagifyInput(typeTagifyInput, allTypes)

typeTagifyInput.on('change', (e) => {
  const filteredTypes = getTagifyInputValues(typeTagifyInput)
  updateGlobalFilter({ types: filteredTypes })
})

function getTagifyInputValues(_tagifyInput) {
  return _tagifyInput.value.map(v => v.value)
}

// Handle filter changes
function updateGlobalFilter(filterInputs) {
  //- update globalFilters, globalNotes and rerender timelineYp
  Object.entries(filterInputs).forEach(([filterName, filterVal]) => {
    //special treatment for tags
    if(filterName ==='tags') {
      const isAll = (!Array.isArray(filterVal) || !filterVal.length) 
      globalFilters[filterName] =  isAll ? 'all' : filterVal
    } else {
      globalFilters[filterName] = filterVal
    }
  })
  handleFilterChange()    
}

function handleFilterChange() {
  globalFilteredNotes = filterNotes(nts, inf, globalFilters)
  updateTimelines()
}</script></body></html>